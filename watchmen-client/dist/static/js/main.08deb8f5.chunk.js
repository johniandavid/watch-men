(this["webpackJsonpwatchmen-client"]=this["webpackJsonpwatchmen-client"]||[]).push([[0],{44:function(e,t,r){},45:function(e,t,r){},51:function(e){e.exports=JSON.parse('{"api":{"invokeUrl":"https://t40l8o9i37.execute-api.us-west-1.amazonaws.com/prod"}}')},52:function(e,t,r){},53:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(19),a=r.n(c),s=(r(44),r(11)),o=(r(45),r(7)),u=r.n(o),i=r(9),l=r(60),j=r(2);var d=function(e){return Object(j.jsxs)(l.a,{children:[Object(j.jsx)(l.a.Group,{controlId:"formBasicName",children:Object(j.jsx)(l.a.Control,{type:"text",placeholder:"Name",onChange:e.formName})}),Object(j.jsx)(l.a.Group,{controlId:"formBasicPhoneNumber",children:Object(j.jsx)(l.a.Control,{type:"text",placeholder:"Phone Number",onChange:e.formPhoneNum})})]})},p=r(51).api.invokeUrl;function h(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET"},e.prev=1,console.log("".concat(p,"/users/").concat(t,"/products")),e.next=5,fetch("".concat(p,"/users/").concat(t,"/products"),r);case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function f(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(u.a.mark((function e(t,r){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify(r)},e.prev=1,console.log("".concat(p,"/users/").concat(t,"/products")),e.next=5,fetch("".concat(p,"/users/").concat(t,"/products"),n);case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,console.log(a),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function O(e,t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(u.a.mark((function e(t,r){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE"},e.prev=1,console.log("".concat(p,"/users/").concat(t,"/products/").concat(r)),e.next=5,fetch("".concat(p,"/users/").concat(t,"/products/").concat(r),n);case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,console.log(a),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var v=r(56),w=r(38),y=r(57),g=r(58);var k=function(e){var t=Object(n.useState)([]),r=Object(s.a)(t,2),c=r[0],a=r[1];function o(){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return[],t.next=3,h(e.userid);case 3:r=t.sent,a(Object.values(r));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(i.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e.userid,r);case 2:o();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(e){!function(e){d.apply(this,arguments)}(e)}Object(n.useEffect)((function(){o()}),[]),Object.keys(c);var b=c.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)(v.a,{className:"text-center",children:[Object(j.jsx)("a",{href:e.url,target:"_blank",children:Object(j.jsx)(w.a,{top:!0,src:"".concat(e.image)})}),Object(j.jsx)("h4",{children:e.name}),Object(j.jsxs)("h4",{children:["$",e.price]})]}),Object(j.jsx)(y.a,{variant:"danger",onClick:function(){p(e.product_id)},children:"Delete"})]})}));return Object(j.jsxs)("div",{children:[Object(j.jsx)(_,{userid:e.userid,router:e.router}),Object(j.jsxs)(g.a,{children:[Object(j.jsx)("h4",{children:"Product"}),b]})]})},S=r(59);var C=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(S.a,{show:e.showModal,onHide:e.handleClose,children:[Object(j.jsx)(S.a.Header,{children:Object(j.jsx)(S.a.Title,{children:"Delete"})}),Object(j.jsx)(S.a.Body,{children:"Are you sure you want to delete this user profile?"}),Object(j.jsxs)(S.a.Footer,{children:[Object(j.jsx)(y.a,{variant:"secondary",onClick:e.handleCloseFunction,children:"Close"}),Object(j.jsx)(y.a,{variant:"primary",onClick:e.handleDeleteFunction,children:"Delete User"})]})]})})};function N(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(u.a.mark((function e(t){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.prev=1,e.next=4,fetch("".concat(p,"/users"),r);case 4:return n=e.sent,console.log("".concat(p,"/users")),e.next=8,n.json();case 8:return c=e.sent,console.log(c),e.next=12,window.location.reload();case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function E(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(u.a.mark((function e(t){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"DELETE",headers:{"Content-Type":"application/json"}},e.prev=1,console.log("".concat(p,"/users/").concat(t)),e.next=5,fetch("".concat(p,"/users/").concat(t),r);case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,console.log(c),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var D=function(e){var t=Object(n.useState)(!1),r=Object(s.a)(t,2),c=r[0],a=r[1];function o(){a(!0)}function l(){return(l=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e.userid);case 2:window.localStorage.removeItem("user_id"),window.localStorage.removeItem("name"),e.router(Object(j.jsx)(L,{router:e.router}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)("div",{children:[Object(j.jsx)(_,{userid:e.userid,router:e.router}),Object(j.jsxs)(g.a,{children:[Object(j.jsxs)("h5",{children:["User ID: ",e.userid]}),Object(j.jsx)(C,{showModal:c,handleCloseFunction:function(){a(!1)},handleShowFunction:o,handleDeleteFunction:function(){return l.apply(this,arguments)}}),Object(j.jsx)(y.a,{onClick:o,children:"Delete User"})]})]})},P=r(62),T=r(61);var _=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(P.a,{bg:"dark",variant:"dark",children:[Object(j.jsx)(P.a.Brand,{children:"Watchmen"}),Object(j.jsxs)(T.a,{className:"mr-auto",children:[Object(j.jsx)(T.a.Link,{onClick:function(){e.router(Object(j.jsx)(B,{userid:e.userid,router:e.router}))},children:"Home"}),Object(j.jsx)(T.a.Link,{onClick:function(){e.router(Object(j.jsx)(k,{userid:e.userid,router:e.router}))},children:"Products"}),Object(j.jsx)(T.a.Link,{onClick:function(){e.router(Object(j.jsx)(D,{userid:e.userid,router:e.router}))},children:"User"})]})]})})};var F=function(e){return Object(j.jsx)(l.a,{children:Object(j.jsxs)(l.a.Group,{controlId:"formUrl",children:[Object(j.jsx)(l.a.Control,{type:"url",placeholder:"Enter Url",value:e.urlValue,onChange:e.formUrl}),Object(j.jsx)(l.a.Text,{className:"text-muted"})]})})};r(52);var B=function(e){var t=Object(n.useState)(""),r=Object(s.a)(t,2),c=r[0],a=r[1],o=Object(n.useState)("User"),l=Object(s.a)(o,2),d=l[0],p=l[1];function h(){return(h=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={url:c},t.next=3,f(e.userid,r);case 3:a("");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){null!=window.localStorage.getItem("name")&&p(window.localStorage.getItem("name"))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(_,{userid:e.userid,router:e.router}),Object(j.jsx)("div",{className:"welcome-message",children:Object(j.jsxs)("h4",{children:["Hello ",d,"!"]})}),Object(j.jsx)(F,{formUrl:function(e){a(e.target.value)},urlValue:c}),Object(j.jsx)("div",{className:"add-button",children:Object(j.jsx)(y.a,{size:"md",variant:"light",type:"submit",onClick:function(){return h.apply(this,arguments)},children:"Watch this Product"})})]})},J=r(63);var L=function(e){var t=Object(n.useState)(""),r=Object(s.a)(t,2),c=r[0],a=r[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),p=l[0],h=l[1];function b(){return(b=Object(i.a)(u.a.mark((function t(){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(J.a)(),window.localStorage.setItem("user_id",r),window.localStorage.setItem("name",c),n={user_id:r,name:c,phone_number:p},t.next=6,N(n);case 6:e.router(Object(j.jsx)(B,{userid:r,router:e.router}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Watchmen!"}),Object(j.jsx)(d,{formName:function(e){var t;a((t=e.target.value,t.substr(0,1).toUpperCase()+t.substr(1)).trim())},formPhoneNum:function(e){h(e.target.value)}}),Object(j.jsx)(y.a,{size:"sm",onClick:function(){return b.apply(this,arguments)},type:"submit",children:"Start Now"})]})};var G=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=(t[0],t[1]),c=Object(n.useState)(""),a=Object(s.a)(c,2),o=a[0],u=a[1];function i(e){u(e)}return Object(n.useEffect)((function(){!function(){if(null!=window.localStorage.getItem("user_id")){var e=window.localStorage.getItem("user_id");r(e),u(Object(j.jsx)(B,{userid:e,router:i}))}else u(Object(j.jsx)(L,{router:i}))}()}),[]),Object(j.jsx)("div",{className:"main text-center",children:o})};a.a.render(Object(j.jsx)(G,{}),document.getElementById("root"))}},[[53,1,2]]]);