(this["webpackJsonpwatchmen-client"]=this["webpackJsonpwatchmen-client"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},37:function(e){e.exports=JSON.parse('{"api":{"invokeUrl":"https://t40l8o9i37.execute-api.us-west-1.amazonaws.com/prod"}}')},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(15),a=n.n(c),s=(n(34),n(9)),o=(n(35),n(6)),u=n.n(o),i=n(7),l=n(52),p=n(47),d=n(37).api.invokeUrl;function j(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"}},e.prev=1,console.log("".concat(d,"/users/").concat(t)),e.next=5,fetch("".concat(d,"/users/").concat(t),n);case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.prev=1,e.next=4,fetch("".concat(d,"/users"),n);case 4:return r=e.sent,console.log("".concat(d,"/users")),e.next=8,r.json();case 8:return c=e.sent,console.log(c),e.next=12,window.location.reload();case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-Type":"application/json"}},e.prev=1,console.log("".concat(d,"/users/").concat(t)),e.next=5,fetch("".concat(d,"/users/").concat(t),n);case 5:return r=e.sent,e.next=8,r.json();case 8:c=e.sent,console.log(c),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var O=n(50),v=n(3);var w=function(e){return Object(v.jsxs)(O.a,{children:[Object(v.jsx)(O.a.Group,{controlId:"formBasicName",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"Name",onChange:e.formName})}),Object(v.jsx)(O.a.Group,{controlId:"formBasicPhoneNumber",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"Phone Number",onChange:e.formPhoneNum})})]})};var y=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(s.a)(a,2),d=o[0],j=o[1];function h(){return(h=Object(i.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(l.a)(),window.localStorage.setItem("user_id","".concat(t)),r={user_id:t,name:n,phone_number:d},e.next=5,f(r);case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"WELCOME!"}),Object(v.jsx)(w,{formName:function(e){var t;c((t=e.target.value,t.substr(0,1).toUpperCase()+t.substr(1)).trim())},formPhoneNum:function(e){j(e.target.value)}}),Object(v.jsx)(p.a,{size:"sm",onClick:function(){return h.apply(this,arguments)},type:"submit",children:"Start Now"})]})},g=n(51),k=n(49),S=n(53),_=n(26),E=n(48);function N(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.prev=1,console.log("".concat(d,"/users/").concat(t,"/products")),e.next=5,fetch("".concat(d,"/users/").concat(t,"/products"),n);case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function I(e,t){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(u.a.mark((function e(t,n){var r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",body:JSON.stringify(n)},e.prev=1,console.log("".concat(d,"/users/").concat(t,"/products")),e.next=5,fetch("".concat(d,"/users/").concat(t,"/products"),r);case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,console.log(a),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function T(e,t){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(u.a.mark((function e(t,n){var r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"DELETE"},e.prev=1,console.log("".concat(d,"/users/").concat(t,"/products/").concat(n)),e.next=5,fetch("".concat(d,"/users/").concat(t,"/products/").concat(n),r);case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,console.log(a),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var L=function(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1];function o(){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(u.a.mark((function t(){var n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,N(e.user_id);case 3:for(c in r=t.sent)n.push(r[c]);a(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(e.user_id,n),o();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e){!function(e){d.apply(this,arguments)}(e)}Object(r.useEffect)((function(){o()}),[]);var h=c.map((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(S.a,{className:"text-center",children:[Object(v.jsx)("a",{href:e.url,target:"_blank",children:Object(v.jsx)(_.a,{top:!0,src:"".concat(e.image)})}),Object(v.jsx)("h4",{children:e.name}),Object(v.jsxs)("h4",{children:["$",e.price]})]}),Object(v.jsx)(p.a,{variant:"danger",onClick:function(){j(e.product_id)},children:"Delete"})]})}));return Object(v.jsxs)(E.a,{children:[Object(v.jsx)("h4",{children:"Product"}),h]})};n(42);var D=function(e){return Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Group,{controlId:"formUrl",children:[Object(v.jsx)(O.a.Control,{type:"url",placeholder:"Enter Url",onChange:e.formUrl}),Object(v.jsx)(O.a.Text,{className:"text-muted"})]})})};var G=function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],h=l[1];function f(){return(f=Object(i.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e.user_id);case 2:n=t.sent,window.localStorage.setItem("name",n.name),h(n.name);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:c},t.next=3,I(e.user_id,n);case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){null!=window.localStorage.getItem("name")?h(window.localStorage.getItem("name")):function(){f.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){window.addEventListener("message",(function(e){e.source===window&&e.data.type&&"URL_RESULT"===e.data.type&&a(e.data.url)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"welcome-message",children:Object(v.jsxs)("h4",{children:["Hello ",d,"!"]})}),Object(v.jsx)(D,{formUrl:function(e){a(e.target.value)}}),Object(v.jsx)("div",{className:"add-button",children:Object(v.jsx)(p.a,{size:"md",variant:"light",type:"submit",onClick:function(){return b.apply(this,arguments)},children:"Watch this Product"})})]})};var J=function(e){function t(){return(t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e.user_id);case 2:window.localStorage.removeItem("user_id"),window.localStorage.removeItem("name"),window.location.reload();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(v.jsxs)(E.a,{children:[Object(v.jsxs)("h5",{children:["User ID: ",e.user_id]}),Object(v.jsx)(p.a,{onClick:function(){return t.apply(this,arguments)},children:"Delete User"})]})};var K=function(e){var t=Object(r.useState)("home"),n=Object(s.a)(t,2),c=n[0],a=n[1];return Object(v.jsxs)(g.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(e){return a(e)},children:[Object(v.jsx)(k.a,{eventKey:"home",title:"Home",children:Object(v.jsx)(G,{user_id:e.user_id})}),Object(v.jsx)(k.a,{eventKey:"proucts",title:"Products",children:Object(v.jsx)(L,{user_id:e.user_id})}),Object(v.jsx)(k.a,{eventKey:"users",title:"User",children:Object(v.jsx)(J,{user_id:e.user_id})})]})};var z=function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(K,{user_id:e.userid})})};var B=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){null!=window.localStorage.getItem("user_id")&&c(window.localStorage.getItem("user_id"))})),Object(v.jsx)("div",{className:"main text-center",children:""!==n?Object(v.jsx)(z,{userid:n}):Object(v.jsx)(y,{})})};a.a.render(Object(v.jsx)(B,{}),document.getElementById("root"))}},[[44,1,2]]]);